---
import { getCollection } from 'astro:content';

const allPosts = await getCollection('blog');
const latestPosts = allPosts
  .sort((a, b) => new Date(b.data.date).getTime() - new Date(a.data.date).getTime())
  .slice(0, 3);
---
<div class="shadow-md m-4 p-4 bg-header-image-bg-light border-secondary border-t-4 border-r-0 border-b-0 border-l-0 rounded-lg">
  <h2>News</h2>
    
  <p>It's spring break! I'm relaxing back at home.</h3>
  <p>
    {latestPosts.map((post) => (
          <span>
            [{post.data.date}:] <a href={`/blog/${post.slug}`}>{post.data.title}</a><br />
          </span>
        ))}
  </p>
  <h3 class="text-muted">Notes</h3>
  <p>
  Working on notes on the quantum mechanics, derivatives (AKA tangent spaces vs. algebraic approaches), and uploading my course notes onto this blog!
  </p>
  <h3 class="text-muted">Projects</h3>
  <p>
  Finally started a projects page! I&apos;ve recently made some nice upgrades to my post component, so it looks pretty clean! ;)
  </p>
  <h3 class="text-muted">ðŸŒŠ</h3>
  <p>I&apos;m considering whether or not to continue this project using WebGL or Three.js.</p>
  <p>I&apos;m also researching methods for generating the 3D scenes I want for this project automatically.</p>
  <p>In the meantime, I&apos;ve decided to proceed with some preliminary prototypes of the other interactive parts of this project.</p>
  <h3 class="text-muted">Orange Juice</h3>
  <p>I like orange juice. :)</p>
  <h3 class="text-muted">Mlog</h3><br />
  <iframe class="scaled-iframe" style="border-radius:6px;" src="https://open.spotify.com/embed/playlist/1tnmAZRxFbsHFrpKdEbN0S?utm_source=generator" width="100%" height="300px" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"></iframe>
</div>