---
import { getCollection } from 'astro:content';

const allPosts = await getCollection('blog');
const latestPosts = allPosts
  .sort((a, b) => new Date(b.data.date).getTime() - new Date(a.data.date).getTime())
  .slice(0, 3);
---
<div class="shadow-md m-4 p-4 bg-header-image-bg-light border-secondary border-t-4 border-r-0 border-b-0 border-l-0 rounded-lg">
  <h2>News</h2>
    
  <p>Classes just started again. I've been thinking about proteins in my research and preparing for grad apps.</p>

  <h3 class="text-muted">Latest Posts</h3>
  <p>
    {latestPosts.map((post) => (
          <span>
            [{post.data.date}:] <a href={`/blog/${post.slug}`}>{post.data.title}</a><br />
          </span>
        ))}
  </p>
  <h3 class="text-muted">Notes</h3>
  <p>
  Started taking live LaTeX notes in classes again. I might be uploading stuff soon!
  <!--Working on notes on the quantum mechanics, derivatives (AKA tangent spaces vs. algebraic approaches), and uploading my course notes onto this blog!-->
  </p>
  <h3 class="text-muted">Sea ðŸŒŠ</h3>
  <p>This is something I'm working on!</p>
  <h3 class="text-muted">Orange Juice</h3>
  <p>Now my "professional" website.</p>
  <h3 class="text-muted">Mlog</h3><br />
  <iframe class="scaled-iframe" style="border-radius:6px;" src="https://open.spotify.com/embed/playlist/1tnmAZRxFbsHFrpKdEbN0S?utm_source=generator" width="100%" height="300px" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"></iframe>
</div>