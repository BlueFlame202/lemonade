---
import { getCollection } from 'astro:content';

const allPosts = await getCollection('blog');
const latestPosts = allPosts
  .sort((a, b) => new Date(b.data.date).getTime() - new Date(a.data.date).getTime())
  .slice(0, 3);
---
<div class="shadow-md m-4 p-4 bg-secondary border-quaternary border-t-4 border-r-0 border-b-0 border-l-0 rounded-lg">
  <h2>News</h2>
    
  <p>I recently graduted! ðŸ¥³ Now I have time to develop my personal interests and get involved with larger projects. ðŸ”¥</p>

  <h3 class="text-muted">Latest Posts</h3>
  <p>
    {latestPosts.map((post) => (
          <span>
            [{post.data.date}:] <a href={`/blog/${post.slug}`}>{post.data.title}</a><br />
          </span>
        ))}
  </p>
  <h3 class="text-muted">Aletheia</h3>
  <p>
  Rebranding this portion of my website. See <a href="/blog/aletheia">my blog post about it.</a>
  </p>
  <h3 class="text-muted">Sea ðŸŒŠ</h3>
  <p>This is something I'm working on!</p>
  <h3 class="text-muted">Academia</h3>
  <p>This tab leads to my professional website, codenamed "orange juice".</p>
  <h3 class="text-muted">Mlog</h3><br />
  <iframe class="scaled-iframe" style="border-radius:6px;" src="https://open.spotify.com/embed/playlist/1tnmAZRxFbsHFrpKdEbN0S?utm_source=generator" width="100%" height="300px" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"></iframe>
</div>